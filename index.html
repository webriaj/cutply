<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ply Calculation Tool</title>
<style>
  body {
    font-family: "Poppins", Arial, sans-serif;
    background: #f4f6f9;
    margin: 0;
    padding: 0;
  }
  .container {
    max-width: 900px;
    margin: 40px auto;
    background: #fff;
    padding: 30px 40px;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
  }
  h2 {
    text-align: center;
    color: #2f3640;
    margin-bottom: 20px;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
  }
  th, td {
    border: 1px solid #e1e1e1;
    padding: 10px;
    text-align: center;
  }
  th {
    background: #2ecc71;
    color: #fff;
    font-weight: 600;
  }
  input {
    width: 90%;
    padding: 6px;
    border: 1px solid #ccc;
    border-radius: 6px;
    text-align: center;
  }
  button {
    margin: 10px 5px;
    padding: 10px 18px;
    background: #2ecc71;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 15px;
    transition: 0.3s;
  }
  button:hover {
    background: #27ae60;
  }
  .btn-danger {
    background: #e74c3c;
  }
  .btn-danger:hover {
    background: #c0392b;
  }
  .actions {
    text-align: center;
    margin-top: 15px;
  }
  #result {
    margin-top: 25px;
    text-align: center;
  }
  #result table {
    width: 80%;
    margin: 15px auto;
  }
  .result-box {
    background: #f9f9f9;
    padding: 20px;
    border-radius: 12px;
    border: 1px solid #e1e1e1;
    margin-top: 20px;
  }
  footer {
    text-align: center;
    margin: 30px 0 10px 0;
    color: #888;
    font-size: 14px;
  }
  footer a {
    color: #2ecc71;
    text-decoration: none;
  }
  footer a:hover {
    text-decoration: underline;
  }
</style>
</head>
<body>

<div class="container">
  <h2>üßµ Garments Cutting ‚Äì Ply Calculation Tool</h2>

  <table id="sizeTable">
    <thead>
      <tr>
        <th>Size</th>
        <th>Order Qty</th>
        <th>Cutting Qty</th>
        <th>Ratio</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><input value="S"></td>
        <td><input type="number" value="50"></td>
        <td><input type="number" value="0"></td>
        <td><input type="number" value="2"></td>
        <td><button class="btn-danger" onclick="deleteRow(this)">üóë</button></td>
      </tr>
      <tr>
        <td><input value="M"></td>
        <td><input type="number" value="100"></td>
        <td><input type="number" value="0"></td>
        <td><input type="number" value="3"></td>
        <td><button class="btn-danger" onclick="deleteRow(this)">üóë</button></td>
      </tr>
      <tr>
        <td><input value="L"></td>
        <td><input type="number" value="80"></td>
        <td><input type="number" value="0"></td>
        <td><input type="number" value="2"></td>
        <td><button class="btn-danger" onclick="deleteRow(this)">üóë</button></td>
      </tr>
      <tr>
        <td><input value="XL"></td>
        <td><input type="number" value="40"></td>
        <td><input type="number" value="0"></td>
        <td><input type="number" value="1"></td>
        <td><button class="btn-danger" onclick="deleteRow(this)">üóë</button></td>
      </tr>
    </tbody>
  </table>

  <div class="actions">
    <button onclick="addRow()">‚ûï Add Size</button>
    <button onclick="calculatePlies()">üßÆ Calculate</button>
  </div>

  <div id="result"></div>
</div>

<footer>
  &copy; 2025 <a href="https://webriaj.com" target="_blank">WebRiaj</a> | Made with ‚ù§Ô∏è by Md Riaj Khan
</footer>

<script>
function addRow() {
  const table = document.getElementById("sizeTable").querySelector("tbody");
  const row = document.createElement("tr");
  row.innerHTML = `
    <td><input value=""></td>
    <td><input type="number" value="0"></td>
    <td><input type="number" value="0"></td>
    <td><input type="number" value="0"></td>
    <td><button class="btn-danger" onclick="deleteRow(this)">üóë</button></td>
  `;
  table.appendChild(row);
}

function deleteRow(btn) {
  const row = btn.closest("tr");
  const table = document.getElementById("sizeTable").querySelector("tbody");
  if (table.rows.length > 1) row.remove();
  else alert("At least one size is required.");
}

function calculatePlies() {
  const rows = document.querySelectorAll("#sizeTable tbody tr");
  let maxPlies = 0;
  let details = [];

  rows.forEach(row => {
    const inputs = row.querySelectorAll("input");
    const size = inputs[0].value || "-";
    const orderQty = parseFloat(inputs[1].value) || 0;
    const cuttingQty = parseFloat(inputs[2].value) || 0;
    const ratio = parseFloat(inputs[3].value) || 0;

    if (ratio > 0) {
      const targetQty = Math.min(orderQty, cuttingQty > 0 ? cuttingQty : orderQty);
      const plyNeeded = targetQty / ratio;
      details.push({ size, orderQty, cuttingQty, ratio, plyNeeded });
      if (plyNeeded > maxPlies) maxPlies = plyNeeded;
    }
  });

  const finalPlies = Math.ceil(maxPlies);

  let tableHTML = `
  <div class="result-box">
  <h3>üßæ Ply Calculation Result</h3>
  <table>
    <tr style="background:#eee;">
      <th>Size</th><th>Ratio</th><th>Order Qty</th><th>Cutting Qty</th><th>Ply Needed</th>
    </tr>
  `;
  details.forEach(d => {
    tableHTML += `
      <tr>
        <td>${d.size}</td>
        <td>${d.ratio}</td>
        <td>${d.orderQty}</td>
        <td>${d.cuttingQty}</td>
        <td>${d.plyNeeded.toFixed(2)}</td>
      </tr>`;
  });
  tableHTML += `
    </table>
    <p>‚úÖ <b>Total Plies Required (maximum): ${finalPlies}</b></p>
    <p>üì¶ Each ply will produce garments as per ratio distribution.</p>
  </div>`;

  document.getElementById("result").innerHTML = tableHTML;
}
</script>

</body>
</html>

